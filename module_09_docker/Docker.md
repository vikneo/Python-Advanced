# Docker - установка

### Содержание

* [Введение](#введение) (коротко)
* [Установка](#установка-docker)
* [Настройка](#настройка-docker)
* [Первый запуск контейнера](docs/Launch%20Docker.md)

<hr>

## Введение

<u>**Docker**</u> - это платформа, позволяющая запускать приложения в изолированных контейнерах.
Контейнеры обеспечивают приложениям стабильную и предсказуемую среду, где бы они ни запускались, 
будь то компьютер разработчика/сервер/облако/кластер Kubernetes.

Docker не реализует собственную систему контейнеров, он использует LXC и выступает в качестве оболочки, 
которая позволяет автоматически загружать, устанавливать и запускать образы контейнеров, а также управлять ими. 
Благодаря этому разработчики могут сосредоточиться непосредственно на разработке приложения, 
не беспокоясь о проблемах совместимости и настройке окружения.
<hr>

## Установка Docker
* Добавление репозитория
* Установка - из оф. документации:
  * [Установка Docker Desktop на Windows](https://docs.docker.com/desktop/install/windows-install/)
  * [Установка Docker Desktop на Mac](https://docs.docker.com/desktop/install/mac-install/)
  * [Установка Docker Desktop на Ubuntu](https://docs.docker.com/engine/install/ubuntu/)

<hr>
<img src="./docs/img/warning-xxl.png" alt="11" width="15"> ВАЖНО!<br>
Перед установкой нужно убедиться, что отсутствуют старые версии <u>Docker</u>, 
во избежание неприятных ошибок при обновлении. Рекомендуется устанавливать <u>Docker</u>
только по инструкции из официальной документации
<hr>


* Для проверки предыдущих версий - команда:
```ruby
~$ sudo apt-get remove docker docker-engine docker.io containerd runc
 
# Ответ
Чтение списков пакетов… Готово
Построение дерева зависимостей… Готово
Чтение информации о состоянии… Готово         
Пакет «docker» не установлен, поэтому не может быть удалён
Пакет «docker-engine» не установлен, поэтому не может быть удалён
Пакет «docker.io» не установлен, поэтому не может быть удалён
Пакет «containerd» не установлен, поэтому не может быть удалён
Пакет «runc» не установлен, поэтому не может быть удалён
Обновлено 0 пакетов, установлено 0 новых пакетов, для удаления отмечено 0 пакетов, и 5 пакетов не обновлено.
```

#### Добавления репозитория

* Обновить индексы пакетов **apt**
    ```html
    sudo apt-get update
    ```
* Устанавливаем необходимые пакеты, в том числе для работы **apt** по протоколу **https**:
  ```html
  sudo apt-get install \
  > apt-transport-https \
  > ca-certificates \
  > curl \
  > gnupg-agent \
  > software-properties-common
  ```

* Для безопасности от подмены репозитория добавим цифровой ключ, командой:
  ```html
  sudo curl -fsSL https://download.docker.com/linux/ubuntu/gpg | sudo apt-key add -
  ```

* Добавляем репозиторий
  ```html
  sudo add-apt-repository \
  > "deb [arch=amd64] https://download.docker.com/linux/ubuntu \
  > $(lsb_release -cs) \
  > stable"
  ```
  
* Устанавливаем Docker доступной, последней версии:
  * Еще раз обновляем индексы пакетов **apt**
    ```html
    sudo apt-get update
    ```
  * Устанавливаем Docker
    ```html
    sudo apt-get install docker-ce docker-ce-cli containerd.io
    ```

[К содержанию ↑](#содержание)
<hr>

## Настройка Docker

* Добавим нашего пользователя в группу docker, что бы каждый раз не вводить **sudo**
  ```html
  $ sudo usermod -aG docker $USER
  
  # Перезапустим систему для применения прав
  $ reboot
  ```
При выводе версии Docker
```html
docker version

# если права не предоставлены
sudo docker version
```

[Управление контейнерами >>](docs/Launch%20Docker.md)

[К содержанию ↑](#содержание)
<hr>
